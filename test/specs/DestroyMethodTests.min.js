describe("'destroy()' Method tests",function(){var a;it("removes the extra DOM elements associated with a slider",function(){a=new Slider("#testSlider1",{id:"destroyMethodTestSlider"});a.destroy();var c=$("#testSlider1").parent("div.slider").length;var b=$("#testSlider1").siblings("div.slider-track, div.tooltip").length;expect(c).toBe(0);expect(b).toBe(0)});describe("unbinds all slider events",function(){var b,c;beforeEach(function(){a=new Slider("#testSlider1",{id:"destroyMethodTestSlider"});b=false});it("unbinds from 'slideStart' event",function(){c="slideStart";$("#destroyMethodTestSlider").on(c,function(){b=true});a.destroy();$("#destroyMethodTestSlider").trigger(c);expect(b).toBeFalsy()});it("unbinds from 'slide' event",function(){c="slide";$("#destroyMethodTestSlider").on(c,function(){b=true});a.destroy();$("#destroyMethodTestSlider").trigger(c);expect(b).toBeFalsy()});it("unbinds from 'slideStop' event",function(){c="slideStop";$("#destroyMethodTestSlider").on(c,function(){b=true});a.destroy();$("#destroyMethodTestSlider").trigger(c);expect(b).toBeFalsy()});it("unbinds from 'slideChange' event",function(){c="slideChange";$("#destroyMethodTestSlider").on(c,function(){b=true});a.destroy();$("#destroyMethodTestSlider").trigger(c);expect(b).toBeFalsy()})});describe("DOM event listener removal tests",function(){describe("When tooltips are always hidden for single value sliders",function(){beforeEach(function(){a=new Slider("#testSlider1",{id:"destroyMethodTestSlider",tooltip:"hide"})});it("does not try to remove 'focus' event listener from handle1",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("focus",undefined,false)});it("does not try to remove 'blur' event listener from handle1",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("blur",undefined,false)});it("does not try to remove 'mouseenter' event listener from slider",function(){spyOn(a.sliderElem,"removeEventListener");a.destroy();expect(a.sliderElem.removeEventListener).not.toHaveBeenCalledWith("mouseenter",undefined,false)});it("does not try to remove 'mouseleave' event listener from slider",function(){spyOn(a.sliderElem,"removeEventListener");a.destroy();expect(a.sliderElem.removeEventListener).not.toHaveBeenCalledWith("mouseleave",undefined,false)})});describe("When tooltips are always shown for single value sliders",function(){beforeEach(function(){a=new Slider("#testSlider1",{id:"destroyMethodTestSlider",tooltip:"always"})});it("does not try to remove 'focus' event listener from handle1 when tooltip is always shown for single handle sliders",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("focus",undefined,false)});it("does not try to remove 'blur' event listener from handle1 when tooltip is always shown for single handle sliders",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("blur",undefined,false)});it("does not try to remove 'mouseenter' event listener from slider is always shown for single handle slider",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("mouseenter",undefined,false)});it("does not try to remove 'mouseleave' event listener from slider is always shown for single handle slider",function(){spyOn(a.sliderElem,"removeEventListener");a.destroy();expect(a.sliderElem.removeEventListener).not.toHaveBeenCalledWith("mouseleave",undefined,false)})});describe("When tooltips are always hidden for range sliders",function(){beforeEach(function(){a=new Slider("#testSlider1",{id:"destroyMethodTestSlider",tooltip:"always",value:[2,5]})});it("does not try to remove 'focus' event listener from handle1",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("focus",undefined,false)});it("does not try to remove 'focus' event listener from handle2",function(){spyOn(a.handle2,"removeEventListener");a.destroy();expect(a.handle2.removeEventListener).not.toHaveBeenCalledWith("focus",undefined,false)});it("does not try to remove 'blur' event listener from handle1",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("blur",undefined,false)});it("does not try to remove 'blur' event listener from handle2",function(){spyOn(a.handle2,"removeEventListener");a.destroy();expect(a.handle2.removeEventListener).not.toHaveBeenCalledWith("blur",undefined,false)});it("does not try to remove 'mouseenter' event listener from slider",function(){spyOn(a.sliderElem,"removeEventListener");a.destroy();expect(a.sliderElem.removeEventListener).not.toHaveBeenCalledWith("mouseenter",undefined,false)});it("does not try to remove 'mouseleave' event listener from slider",function(){spyOn(a.sliderElem,"removeEventListener");a.destroy();expect(a.sliderElem.removeEventListener).not.toHaveBeenCalledWith("mouseleave",undefined,false)})});describe("When tooltips are always shown for range sliders",function(){beforeEach(function(){a=new Slider("#testSlider1",{id:"destroyMethodTestSlider",tooltip:"always",value:[2,5]})});it("does not try to remove 'focus' event listener from handle1",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("focus",undefined,false)});it("does not try to remove 'focus' event listener from handle2",function(){spyOn(a.handle2,"removeEventListener");a.destroy();expect(a.handle2.removeEventListener).not.toHaveBeenCalledWith("focus",undefined,false)});it("does not try to remove 'blur' event listener from handle1",function(){spyOn(a.handle1,"removeEventListener");a.destroy();expect(a.handle1.removeEventListener).not.toHaveBeenCalledWith("blur",undefined,false)});it("does not try to remove 'blur' event listener from handle1 and handle2",function(){spyOn(a.handle2,"removeEventListener");a.destroy();expect(a.handle2.removeEventListener).not.toHaveBeenCalledWith("blur",undefined,false)});it("does not try to remove 'mouseenter' event listener from slider",function(){spyOn(a.sliderElem,"removeEventListener");a.destroy();expect(a.sliderElem.removeEventListener).not.toHaveBeenCalledWith("mouseenter",undefined,false)});it("does not try to remove 'mouseleave' event listener from slider",function(){spyOn(a.sliderElem,"removeEventListener");a.destroy();expect(a.sliderElem.removeEventListener).not.toHaveBeenCalledWith("mouseleave",undefined,false)})})})});